<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>トポロジカルソート</title>
    <link rel="stylesheet" href="code-style.css">
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="option.js"></script>
</head>

<body style="background-image: url(back.gif);">
    <div class="header">
        <div class="header-logo">kacho65535'spage</div>
    </div>
    <div class="Menu">
        <nav>
            <ul class="gnav">
                <li><a href="index.html">Home</a></li>
                <li>
                    <a href="">Codes</a>
                    <ul>
                        <li>
                            <a href="">グラフアルゴリズム</a>
                            <ul>
                                <li><a href="Dijkstra.html">ダイクストラ法</a></li>
                                <li><a href="Bellman-Ford.html">ベルマンフォード法</a></li>
                                <li><a href="Warshall-Floyd.html">ワーシャルフロイド法</a></li>
                                <li><a href="Kruskal.html">クラスカル法</a></li>
                                <li><a href="BFS.html">幅優先探索</a></li>
                                <li><a href="Topological_Sort.html">トポロジカルソート</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="">データ構造</a>
                            <ul>
                                <li><a href="Union-Find.html">Union-Find木</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="">数学</a>
                            <ul>
                                <li><a href="Combination.html">二項係数</a></li>
                                <li><a href="Prime_judge.html">素数判定</a></li>
                                <li><a href="Geometry.html">幾何ライブラリ</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="">おまけ</a>
                            <ul>
                                <li><a href="Include-File.html">インクルードファイル一覧</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><a href="about.html">About</a></li>
                <li>
                    <a href="">Links</a>
                    <ul>
                        <li><a href="https://atcoder.jp/users/kacho65535" target="_blank">Atcoder Userpage</a></li>
                        <li><a href="https://github.com/kacho65535" target="_blank">github</a></li>
                        <li><a href="https://kacho65535.hatenablog.com/" target="_blank">はてなブログ</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </div>

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.4/css/all.css">
    <div id="page_top"><a href="#"></a></div>
    <pre>
    <code class="prettyprint linenums">
        /* 
        topo_sort(G): グラフG をトポロジカルソート
        返り値: トポロジカルソートされた頂点番号を持つ配列
        計算量: O(|E|+|V|)
        頂点間の距離も管理するときは構造体をつくること
    */
    vector&lt;long long&gt; topo_sort(const vector&lt;vector&lt;long long&gt;&gt; &amp;G)
    { // bfs
        vector&lt;long long&gt; ans;
        long long n = (long long)G.size();
        vector&lt;long long&gt; ind(n); // ind[i]: 頂点iに入る辺の数(次数)
        for (long long i = 0; i &lt; n; i++)
        { // 次数を数えておく
            for (long long next : G[i])
            {
                ind[next]++;
            }
        }
        queue&lt;long long&gt; que;
        for (long long i = 0; i &lt; n; i++)
        { // 次数が0の点をキューに入れる
            if (ind[i] == 0)
                que.push(i);
        }
        while (!que.empty())
        { // 幅優先探索
            long long now = que.front();
            ans.push_back(now);
            que.pop();
            for (long long next : G[now])
            {
                ind[next]--;
                if (ind[next] == 0)
                {
                    que.push(next);
                }
            }
        }
        return ans;
    }
    </code>
    </pre>
</body>
<small>
    <center>© 2020 kacho65535</center>
</small>

</html>
